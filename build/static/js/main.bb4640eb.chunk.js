(this["webpackJsonpreact-travel"]=this["webpackJsonpreact-travel"]||[]).push([[0],{127:function(e,t,n){e.exports={"intro-container":"ProductIntro_intro-container__2cHJ9","intro-detail-content":"ProductIntro_intro-detail-content__KwRud","intro-detail-strong-text":"ProductIntro_intro-detail-strong-text__3CONx"}},181:function(e,t,n){e.exports={content:"ProductCollection_content__3eLL6","side-image":"ProductCollection_side-image__SxaP7"}},183:function(e,t,n){e.exports={content:"BusinessPartners_content__3UvXL"}},184:function(e,t,n){e.exports={"filter-divider":"FilterArea_filter-divider__1tn3W"}},185:function(e,t,n){e.exports={"page-content":"SearchPage_page-content__2QSUj","product-list-container":"SearchPage_product-list-container__1m9dk"}},186:function(e,t,n){e.exports={"product-list-container":"ShoppingCart_product-list-container__2EP-8","payment-card-container":"ShoppingCart_payment-card-container__R7AQj"}},207:function(e,t,n){e.exports={App:"App_App__2KtU3"}},217:function(e,t,n){e.exports={slider:"Carousel_slider__aSadb"}},218:function(e,t,n){e.exports={"side-menu":"SideMenu_side-menu__37f0t"}},222:function(e,t,n){e.exports={"payment-form":"PaymentForm_payment-form__2Md-c"}},223:function(e,t,n){e.exports={"page-content":"MainLayout_page-content__3vPrD"}},225:function(e,t,n){e.exports={"register-form":"RegisterForm_register-form__2TNBm"}},226:function(e,t,n){e.exports={"signIn-form":"SignInForm_signIn-form__3c9mP"}},227:function(e){e.exports=JSON.parse('{"header":{"slogan":"Make travel happier","add_new_language":"add new language","title":"React Travel","register":"Register","signin":"Sign In","home_page":"Home","weekend":"Weekend","group":"Group","backpack":"Backpack","private":"Private","cruise":"Cruise","hotel":"Hotel & Attractions","local":"Local","theme":"Theme","custom":"Custom","study":"Study","visa":"Visa","enterprise":"Enterprise","high_end":"High-end","outdoor":"Outdoor","insurance":"Insurance","shoppingCart":"Shopping Cart","signOut":"Sign Out","welcome":"Welcome back"},"footer":{"detail":"All rights reserved @ ReactTravel.com"},"home_page":{"hot_recommended":"Hot Recommended","new_arrival":"New arrival","domestic_travel":"Domestic travel","joint_venture":"Joint Venture","start_from":"(start from)"}}')},228:function(e){e.exports=JSON.parse('{"header":{"slogan":"\u8ba9\u65c5\u884c\u66f4\u5e78\u798f","add_new_language":"\u6dfb\u52a0\u65b0\u8bed\u8a00","title":"React \u65c5\u6e38\u7f51","register":"\u6ce8\u518c","signin":"\u767b\u9646","home_page":"\u65c5\u6e38\u9996\u9875","weekend":"\u5468\u672b\u6e38","group":"\u8ddf\u56e2\u6e38","backpack":"\u81ea\u7531\u884c","private":"\u79c1\u5bb6\u56e2","cruise":"\u90ae\u8f6e","hotel":"\u9152\u5e97+\u666f\u70b9","local":"\u5f53\u5730\u73a9\u4e50","theme":"\u4e3b\u9898\u6e38","custom":"\u5b9a\u5236\u6e38","study":"\u6e38\u5b66","visa":"\u7b7e\u8bc1","enterprise":"\u4f01\u4e1a\u6e38","high_end":"\u9ad8\u7aef\u6e38","outdoor":"\u7231\u73a9\u6237\u5916","insurance":"\u4fdd\u9669","shoppingCart":"\u8d2d\u7269\u8f66","signOut":"\u6ce8\u9500","welcome":"\u6b22\u8fce\u56de\u6765"},"footer":{"detail":"\u7248\u6743\u6240\u6709 @ React \u65c5\u6e38\u7f51"},"home_page":{"hot_recommended":"\u7206\u6b3e\u63a8\u8350","new_arrival":"\u65b0\u54c1\u4e0a\u5e02","domestic_travel":"\u56fd\u5185\u6e38\u63a8\u8350","joint_venture":"\u5408\u4f5c\u4f01\u4e1a","start_from":"(\u8d77)"}}')},246:function(e,t,n){},361:function(e,t,n){"use strict";n.r(t);var r,a,c,i,s,o=n(0),l=n.n(o),d=n(33),u=n.n(d),j=(n(246),n(42)),p=n(237),b=n(207),h=n.n(b),O=n(31),g=n(46),m=n(134),x=n(135),f=n(162),y=n(157),v=n(363),_=n(372),C=n(208),w=n(4),k=function(){var e=Object(C.a)().t;return Object(w.jsx)(v.a.Footer,{children:Object(w.jsx)(_.a.Title,{level:3,style:{textAlign:"center"},children:e("footer.detail")})})},S=n(159),I=n(66),P=n.n(I),T=n.p+"static/media/logo.6ce24c58.svg",N=n(160),R=n(96),z=n(64),L=n(376),M=n(380),D=n(35),F=D.d,H="change_language",A="add_language",E=n(215),U=n(24),V=n(27),q=n.n(V),B=n(41),W=n(38),X=n(39),J=n.n(X),G=Object(W.b)("user/signIn",function(){var e=Object(B.a)(q.a.mark((function e(t,n){var r,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.a.post("http://123.56.149.216:8080/auth/login",{email:t.email,password:t.password});case 2:return r=e.sent,a=r.data,e.abrupt("return",a.token);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Y=Object(W.c)({name:"user",initialState:{loading:!1,error:null,token:null},reducers:{logOut:function(e){e.token=null,e.error=null,e.loading=!1}},extraReducers:(r={},Object(U.a)(r,G.pending.type,(function(e){e.loading=!0})),Object(U.a)(r,G.fulfilled.type,(function(e,t){e.token=t.payload,e.loading=!1,e.error=null})),Object(U.a)(r,G.rejected.type,(function(e,t){e.loading=!1,e.error=t.payload})),r)}),K=function(){var e=Object(O.g)(),t=(Object(O.h)(),Object(O.i)(),Object(O.j)(),F((function(e){return e.language.language}))),n=F((function(e){return e.language.languageList})),r=Object(D.c)(),a=Object(C.a)().t,c=F((function(e){return e.user.token})),i=Object(o.useState)(""),s=Object(S.a)(i,2),l=s[0],d=s[1],u=F((function(e){return e.shoppingCart.items})),j=F((function(e){return e.shoppingCart.loading}));Object(o.useEffect)((function(){if(c){var e=Object(E.a)(c);d(e.username)}}),[c]);return Object(w.jsxs)("div",{className:P.a["app-header"],children:[Object(w.jsx)("div",{className:P.a["top-header"],children:Object(w.jsxs)("div",{className:P.a.inner,children:[Object(w.jsx)(_.a.Text,{children:a("header.slogan")}),Object(w.jsx)(N.a.Button,{style:{marginLeft:15},overlay:Object(w.jsxs)(R.a,{onClick:function(e){var t;console.log(e),"new"===e.key?r({type:A,payload:{name:"\u65b0\u8bed\u8a00",code:"new_lang"}}):r((t=e.key,{type:H,payload:t}))},children:[n.map((function(e){return Object(w.jsx)(R.a.Item,{children:e.name},e.code)})),Object(w.jsx)(R.a.Item,{children:a("header.add_new_language")},"new")]}),icon:Object(w.jsx)(M.a,{}),children:"zh"===t?"\u4e2d\u6587":"English"}),c?Object(w.jsxs)(z.a.Group,{className:P.a["button-group"],children:[Object(w.jsxs)("span",{style:{marginRight:10},children:[a("header.welcome"),Object(w.jsx)(_.a.Text,{strong:!0,children:l})]}),Object(w.jsxs)(z.a,{loading:j,onClick:function(){return e.push("/shoppingCart")},children:[a("header.shoppingCart"),"(",u.length,")"]}),Object(w.jsx)(z.a,{onClick:function(){r(Y.actions.logOut()),e.push("/")},children:a("header.signOut")})]}):Object(w.jsxs)(z.a.Group,{className:P.a["button-group"],children:[Object(w.jsx)(z.a,{onClick:function(){return e.push("/register")},children:a("header.register")}),Object(w.jsx)(z.a,{onClick:function(){return e.push("/signIn")},children:a("header.signin")})]})]})}),Object(w.jsxs)(v.a.Header,{className:P.a["main-header"],children:[Object(w.jsxs)("span",{onClick:function(){return e.push("/")},children:[Object(w.jsx)("img",{src:T,alt:"logo",className:P.a["App-logo"]}),Object(w.jsx)(_.a.Title,{level:3,className:P.a.title,children:a("header.title")})]}),Object(w.jsx)(L.a.Search,{placeholder:"\u8bf7\u8f93\u5165\u65c5\u6e38\u76ee\u7684\u5730\u3001\u4e3b\u9898\u3001\u6216\u5173\u952e\u5b57",className:P.a["search-input"],onSearch:function(t){return e.push("/search/"+t)}})]}),Object(w.jsxs)(R.a,{mode:"horizontal",className:P.a["main-menu"],children:[Object(w.jsxs)(R.a.Item,{children:[" ",a("header.home_page")," "]},"1"),Object(w.jsxs)(R.a.Item,{children:[" ",a("header.weekend")," "]},"2"),Object(w.jsxs)(R.a.Item,{children:[" ",a("header.group")," "]},"3"),Object(w.jsxs)(R.a.Item,{children:[" ",a("header.backpack")," "]},"4"),Object(w.jsxs)(R.a.Item,{children:[" ",a("header.private")," "]},"5"),Object(w.jsxs)(R.a.Item,{children:[" ",a("header.cruise")," "]},"6"),Object(w.jsxs)(R.a.Item,{children:[" ",a("header.hotel")," "]},"7"),Object(w.jsxs)(R.a.Item,{children:[" ",a("header.local")," "]},"8"),Object(w.jsxs)(R.a.Item,{children:[" ",a("header.theme")," "]},"9"),Object(w.jsxs)(R.a.Item,{children:[" ",a("header.custom")," "]},"10"),Object(w.jsxs)(R.a.Item,{children:[" ",a("header.study")," "]},"11"),Object(w.jsxs)(R.a.Item,{children:[" ",a("header.visa")," "]},"12"),Object(w.jsxs)(R.a.Item,{children:[" ",a("header.enterprise")," "]},"13"),Object(w.jsxs)(R.a.Item,{children:[" ",a("header.high_end")," "]},"14"),Object(w.jsxs)(R.a.Item,{children:[" ",a("header.outdoor")," "]},"15"),Object(w.jsxs)(R.a.Item,{children:[" ",a("header.insurance")," "]},"16")]})]})},Q=n(217),Z=n.n(Q),$=n(373),ee=n(369),te=n.p+"static/media/carousel_1.8a3dd591.jpg",ne=n.p+"static/media/carousel_2.b79314aa.jpg",re=n.p+"static/media/carousel_3.39c09c71.jpg",ae=function(){return Object(w.jsxs)($.a,{autoplay:!0,className:Z.a.slider,children:[Object(w.jsx)(ee.a,{src:te}),Object(w.jsx)(ee.a,{src:ne}),Object(w.jsx)(ee.a,{src:re})]})},ce=n(218),ie=n.n(ce),se=[{title:"\u4e3b\u9898\u65c5\u6e38",subMenu:[{title:"\u7238\u5988\u6e38",subMenu:["\u7948\u798f\u62dc\u4f5b","\u53e4\u9547\u6e38\u73a9","\u6842\u6797\u5c71\u6c34","\u7ea2\u8272\u4e4b\u65c5"]},{title:"\u4eb2\u5b50\u6e38",subMenu:["\u4e0a\u6d77\u8fea\u58eb\u5c3c","\u63a2\u9669\u4f53\u9a8c","\u6d77\u6d0b\u516c\u56ed","\u611f\u53d7\u540d\u6821"]},{title:"\u871c\u6708\u6e38",subMenu:["\u6d6a\u6f2b\u6d77\u5c9b","\u8c6a\u534e\u9152\u5e97","\u8d2d\u7269\u8840\u62fc","\u5168\u7403\u5a5a\u793c"]}]},{title:"\u5468\u8fb9\u6e38",subMenu:[{title:"\u5468\u8fb9\u76ee\u7684\u5730",subMenu:["\u676d\u5dde","\u5357\u4eac","\u82cf\u5dde","\u9ec4\u5c71"]},{title:"\u70ed\u95e8\u666f\u70b9",subMenu:["\u666e\u9640\u5c71","\u5343\u5c9b\u6e56","\u4e4c\u9547\u53e4\u9547","\u5b8f\u6751"]}]},{title:"\u56fd\u5185\u6e38",subMenu:[{title:"\u5e7f\u4e1c",subMenu:["\u5e7f\u5dde","\u6df1\u5733","\u73e0\u6d77","\u60e0\u5dde"]},{title:"\u6d59\u6c5f",subMenu:["\u676d\u5dde","\u666e\u9640\u5c71","\u5343\u5c9b\u6e56","\u5b81\u6ce2"]},{title:"\u6c5f\u82cf",subMenu:["\u821f\u5c71","\u4e4c\u9547","\u5e72\u5c71","\u6e56\u5dde"]}]},{title:"\u4e1c\u5357\u4e9a",subMenu:[{title:"\u70ed\u95e8\u76ee\u7684\u5730",subMenu:["\u65b0\u52a0\u5761","\u5df4\u5398\u5c9b","\u8d8a\u5357","\u67ec\u57d4\u5be8"]},{title:"\u70ed\u95e8\u666f\u70b9",subMenu:["\u4e0b\u9f99\u6e7e","\u5434\u54e5\u7a9f","\u897f\u54c8\u52aa\u514b","\u69df\u57ce\u73cd\u73e0\u5c9b"]}]},{title:"\u6b27\u6d32",subMenu:[{title:"\u70ed\u95e8\u90ae\u8f6e\u822a\u7ebf",subMenu:["\u6b27\u6d32\u6cb3\u8f6e","\u5317\u6b27\u90ae\u8f6e","\u7231\u7434\u6d77\u90ae\u8f6e","\u82f1\u4f26\u4e09\u5c9b"]},{title:"\u70ed\u95e8\u666f\u70b9",subMenu:["\u8d1d\u52a0\u5c14\u6e56","\u666e\u7f57\u65fa\u65af","\u963f\u5c14\u5351\u65af","\u5723\u6258\u91cc\u5c3c\u5c9b"]},{title:"\u871c\u6708\u6e38",subMenu:["\u6781\u5149\u4e2d\u5fc3","\u4fc4\u7f57\u65af\u8fdc\u4e1c\u5730\u533a","\u82f1\u683c\u5170\u5c11\u5973\u5cf0","\u73bb\u7483\u6d77\u6ee9"]}]}],oe=n(381),le=function(){return Object(w.jsx)(R.a,{mode:"vertical",className:ie.a["side-menu"],children:se.map((function(e,t){return Object(w.jsx)(R.a.SubMenu,{title:Object(w.jsxs)("span",{children:[Object(w.jsx)(oe.a,{}),e.title]}),children:e.subMenu.map((function(e,t){return Object(w.jsx)(R.a.SubMenu,{title:Object(w.jsxs)("span",{children:[Object(w.jsx)(oe.a,{}),e.title]}),children:e.subMenu.map((function(e,t){return Object(w.jsx)(R.a.Item,{children:Object(w.jsxs)("span",{children:[Object(w.jsx)(oe.a,{}),e]})},"sub-sub-menu-".concat(t))}))},"side-menu=".concat(t))}))},"side-menu=".concat(t))}))})},de=n(181),ue=n.n(de),je=n(364),pe=n(111),be=n(67),he=Object(O.k)((function(e){var t=e.id,n=e.size,r=e.imageSrc,a=e.price,c=e.title;e.history,e.location,e.match;return Object(w.jsxs)(g.b,{to:"detail/".concat(t),children:["large"==n?Object(w.jsx)(ee.a,{src:r,height:285,width:490}):Object(w.jsx)(ee.a,{src:r,height:120,width:240}),Object(w.jsxs)("div",{children:[Object(w.jsx)(_.a.Text,{type:"secondary",children:c.slice(0,25)}),Object(w.jsxs)(_.a.Text,{type:"danger",strong:!0,children:["\uffe5 ",a," \u8d77"]})]})]})})),Oe=function(e){var t=e.title,n=e.sideImage,r=e.products;return Object(w.jsxs)("div",{className:ue.a.content,children:[Object(w.jsx)(je.a,{orientation:"left",children:t}),Object(w.jsxs)(pe.a,{children:[Object(w.jsx)(be.a,{span:4,children:Object(w.jsx)("img",{src:n,className:ue.a["side-image"],alt:""})}),Object(w.jsxs)(be.a,{span:20,children:[" ",Object(w.jsxs)(pe.a,{children:[Object(w.jsx)(be.a,{span:12,children:Object(w.jsx)(he,{id:r[0].id,size:"large",title:r[0].title,imageSrc:r[0].touristRoutePictures[0].url,price:r[0].price})}),Object(w.jsxs)(be.a,{span:12,children:[Object(w.jsxs)(pe.a,{children:[Object(w.jsx)(be.a,{span:12,children:Object(w.jsx)(he,{id:r[1].id,size:"small",title:r[1].title,imageSrc:r[1].touristRoutePictures[0].url,price:r[1].price})}),Object(w.jsx)(be.a,{span:12,children:Object(w.jsx)(he,{id:r[2].id,size:"small",title:r[2].title,imageSrc:r[2].touristRoutePictures[0].url,price:r[2].price})})]}),Object(w.jsxs)(pe.a,{children:[Object(w.jsx)(be.a,{span:12,children:Object(w.jsx)(he,{id:r[3].id,size:"small",title:r[3].title,imageSrc:r[3].touristRoutePictures[0].url,price:r[3].price})}),Object(w.jsx)(be.a,{span:12,children:Object(w.jsx)(he,{id:r[4].id,size:"small",title:r[4].title,imageSrc:r[4].touristRoutePictures[0].url,price:r[4].price})})]})]})]}),Object(w.jsxs)(pe.a,{children:[Object(w.jsx)(be.a,{span:6,children:Object(w.jsx)(he,{id:r[5].id,size:"small",title:r[5].title,imageSrc:r[5].touristRoutePictures[0].url,price:r[5].price})}),Object(w.jsx)(be.a,{span:6,children:Object(w.jsx)(he,{id:r[6].id,size:"small",title:r[6].title,imageSrc:r[6].touristRoutePictures[0].url,price:r[6].price})}),Object(w.jsx)(be.a,{span:6,children:Object(w.jsx)(he,{id:r[7].id,size:"small",title:r[7].title,imageSrc:r[7].touristRoutePictures[0].url,price:r[7].price})}),Object(w.jsx)(be.a,{span:6,children:Object(w.jsx)(he,{id:r[8].id,size:"small",title:r[8].title,imageSrc:r[8].touristRoutePictures[0].url,price:r[8].price})})]})]})]})]})},ge=n(183),me=n.n(ge),xe=[{src:n.p+"static/media/microsoft-80658_640.7799e3ac.png",title:"Microsoft"},{src:n.p+"static/media/icon-720944_640.66777c45.png",title:"Youtube"},{src:n.p+"static/media/follow-826033_640.0d322875.png",title:"Ins"},{src:n.p+"static/media/facebook-807588_640.c91f8a1f.png",title:"Facebook"}],fe=function(){return Object(w.jsxs)("div",{className:me.a.content,children:[Object(w.jsx)(je.a,{orientation:"left",children:Object(w.jsx)(_.a.Title,{level:3,children:"\u5408\u4f5c\u4f01\u4e1a"})}),Object(w.jsx)(pe.a,{align:"middle",children:xe.map((function(e,t){return Object(w.jsx)(be.a,{span:6,children:Object(w.jsx)(ee.a,{width:"100%",src:e.src,alt:e.title,className:me.a["business-image"]})})}))})]})},ye=n(127),ve=n.n(ye),_e=n(375),Ce=n(368),we=[{title:"title",dataIndex:"title",key:"title",align:"left",width:120},{title:"description",dataIndex:"description",key:"description",align:"center"}],ke=function(e){var t=e.title,n=e.shortDescription,r=e.price,a=e.coupons,c=(e.points,e.discount),i=e.rating,s=e.pictures,o=[{key:0,title:"\u8def\u7ebf\u540d\u79f0",description:t},{key:1,title:"\u4ef7\u683c",description:Object(w.jsxs)(w.Fragment,{children:["\xa5"," ",Object(w.jsx)(_.a.Text,{type:"danger",strong:!0,children:r})]})},{key:2,title:"\u9650\u65f6\u62a2\u8d2d\u6298\u6263",description:c?Object(w.jsxs)(w.Fragment,{children:["\xa5 ",Object(w.jsx)(_.a.Text,{delete:!0,children:r})," ",Object(w.jsxs)(_.a.Text,{type:"danger",strong:!0,children:["\xa5 ",c]})]}):"\u6682\u65e0\u6298\u6263"},{key:2,title:"\u9886\u53d6\u4f18\u60e0",description:a?c:"\u65e0\u4f18\u60e0\u5238\u53ef\u9886"},{key:2,title:"\u7ebf\u8def\u8bc4\u4ef7",description:Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(_e.a,{allowHalf:!0,defaultValue:+i}),Object(w.jsxs)(_.a.Text,{style:{marginLeft:10},children:[i," \u661f"]})]})}];return Object(w.jsxs)("div",{className:ve.a["intro-container"],children:[Object(w.jsx)(_.a.Title,{level:4,children:t}),Object(w.jsx)(_.a.Text,{children:n}),Object(w.jsxs)("div",{className:ve.a["intro-detail-content"],children:[Object(w.jsxs)(_.a.Text,{style:{marginLeft:20},children:["\uffe5",Object(w.jsx)("span",{className:ve.a["intro-detail-strong-text"],children:r})," ","/\u4eba\u8d77"]}),Object(w.jsxs)(_.a.Text,{style:{marginLeft:50},children:[Object(w.jsx)("span",{className:ve.a["intro-detail-strong-text"],children:i})," ","\u5206"]})]}),Object(w.jsx)($.a,{autoplay:!0,slidesToShow:3,children:s.map((function(e){return Object(w.jsx)(ee.a,{height:150,src:e})}))}),Object(w.jsx)(Ce.a,{columns:we,dataSource:o,size:"small",bordered:!1,pagination:!1})]})},Se=n(378),Ie=n(365),Pe=function(e){var t=e.data;return Object(w.jsx)(Se.b,{dataSource:t,itemLayout:"horizontal",renderItem:function(e){return Object(w.jsx)("li",{children:Object(w.jsx)(Ie.a,{author:e.author,avatar:e.avatar,content:e.content,datetime:e.createDate})})}})},Te=n(238),Ne=Te.a.CheckableTag,Re=function(e){var t=Object(o.useState)(!1),n=Object(S.a)(t,2),r=n[0],a=n[1];return Object(w.jsx)(Ne,Object(j.a)(Object(j.a)({},e),{},{checked:r,onChange:function(e){a(e)}}))},ze=_.a.Text,Le=function(e){var t=e.title,n=e.tags;return Object(w.jsxs)("div",{children:[Object(w.jsxs)(ze,{style:{marginRight:40,fontSize:15,fontWeight:500},children:[t," :"," "]}),n.map((function(e,t){return t===n.length-1?Object(w.jsx)(Re,{children:e},"filter".concat(t)):Object(w.jsxs)("span",{children:[Object(w.jsx)(Re,{children:e}),Object(w.jsx)(je.a,{type:"vertical"})]},"filter".concat(t))}))]})},Me=n(184),De=n.n(Me),Fe=function(){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Le,{title:"\u8def\u7ebf\u8bc4\u4ef7",tags:["1\u661f","2\u661f","3\u661f","4\u661f","5\u661f"]}),Object(w.jsx)(je.a,{dashed:!0,className:De.a["filter-divider"]}),Object(w.jsx)(Le,{title:"\u51fa\u53d1\u57ce\u5e02",tags:["\u5317\u4eac","\u4e0a\u6d77","\u5e7f\u5dde","\u6df1\u5733"]}),Object(w.jsx)(je.a,{dashed:!0,className:De.a["filter-divider"]}),Object(w.jsx)(Le,{title:"\u884c\u7a0b\u5929\u6570",tags:["2\u65e5","3\u65e5","4\u65e5","5\u65e5","6\u65e5"]}),Object(w.jsx)(je.a,{dashed:!0}),Object(w.jsx)(Le,{title:"\u65c5\u7a0b\u7c7b\u578b",tags:["\u8ddf\u56e2\u6e38","\u81ea\u7531\u884c","\u81ea\u9a7e\u6e38","\u9ad8\u7aef\u5b9a\u5236"]}),Object(w.jsx)(je.a,{dashed:!0}),Object(w.jsx)(Le,{title:"\u51fa\u53d1\u65f6\u95f4",tags:["\u6625\u8282","\u6e05\u660e","\u52b3\u52a8\u8282"]})]})},He=n(379),Ae=n(382),Ee=n(383),Ue=_.a.Text,Ve=function(e){var t=e.icon,n=e.text;return Object(w.jsxs)(He.b,{children:[l.a.createElement(t),n]})},qe=function(e){var t=e.data,n=e.paging,r=e.onPageChange,a=t.map((function(e){return{id:e.id,title:e.title,description:e.description,tags:Object(w.jsxs)(w.Fragment,{children:[e.departureCity&&Object(w.jsxs)(Te.a,{color:"#f50",children:[e.departureCity,"\u51fa\u53d1"]}),e.travelDays&&Object(w.jsxs)(Te.a,{color:"#108ee9",children:[e.travelDays," \u5929 "]}),e.discountPresent&&Object(w.jsx)(Te.a,{color:"#87d068",children:"\u8d85\u4f4e\u6298\u6263"}),e.tripType&&Object(w.jsx)(Te.a,{color:"#2db7f5",children:e.tripType})]}),imgSrc:e.touristRoutePictures[0].url,price:e.price,originalPrice:e.originalPrice,discountPresent:e.discountPresent,rating:e.rating}}));return Object(w.jsx)(Se.b,{itemLayout:"vertical",size:"large",pagination:!!n&&{current:n.currentPage,onChange:function(e){return r&&r(e,n.pageSize)},pageSize:n.pageSize,total:n.totalCount},dataSource:a,footer:n&&Object(w.jsxs)("div",{children:["\u641c\u7d22\u603b\u8def\u7ebf: ",Object(w.jsx)(Ue,{strong:!0,children:n.totalCount})," \u6761"]}),renderItem:function(e){return Object(w.jsxs)(Se.b.Item,{actions:[Object(w.jsx)(Ve,{icon:Ae.a,text:"156"},"list-vertical-star-o"),Object(w.jsx)(Ve,{icon:Ee.a,text:"156"},"list-vertical-like-o"),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(_e.a,{defaultValue:3}),Object(w.jsx)(Ue,{strong:!0,className:"ant-rate-text",children:e.rating})]})],extra:Object(w.jsx)(ee.a,{width:272,height:172,alt:"image",src:e.imgSrc}),children:[Object(w.jsx)(Se.b.Item.Meta,{title:Object(w.jsxs)(w.Fragment,{children:[e.discountPresent?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(Ue,{style:{fontSize:20,fontWeight:400},delete:!0,children:["\xa5 ",e.originalPrice]}),Object(w.jsxs)(Ue,{type:"danger",style:{fontSize:20,fontWeight:400},children:[" ","\xa5 ",e.price]})]}):Object(w.jsxs)(Ue,{style:{fontSize:20,fontWeight:400},children:["\xa5 ",e.price]}),Object(w.jsxs)(g.b,{to:"/detail/"+e.id,children:[" ",e.title]})]}),description:e.tags}),e.description]},e.title)}})},Be=n(370),We=n(374),Xe=n(239),Je=n(384),Ge=Be.a.Meta,Ye=_.a.Title,Ke=_.a.Text,Qe=[{title:"\u9879\u76ee",dataIndex:"item",key:"item"},{title:"\u91d1\u989d",dataIndex:"amount",key:"amount"}],Ze=function(e){var t=e.loading,n=e.originalPrice,r=e.price,a=e.onShoppingCartClear,c=e.onCheckout,i=[{key:1,item:"\u539f\u4ef7",amount:Object(w.jsxs)(Ke,{delete:!0,children:["\xa5 ",n]})},{key:3,item:"\u73b0\u4ef7",amount:Object(w.jsxs)(Ye,{type:"danger",level:2,children:["\xa5 ",r]})}];return Object(w.jsx)(Be.a,{style:{width:300,marginTop:16},actions:[Object(w.jsxs)(z.a,{type:"primary",danger:!0,onClick:c,loading:t,children:[Object(w.jsx)(Xe.a,{}),"\u4e0b\u5355\u652f\u4ed8"]}),Object(w.jsxs)(z.a,{onClick:a,loading:t,children:[Object(w.jsx)(Je.a,{}),"\u6e05\u7a7a"]})],children:Object(w.jsx)(We.a,{loading:t,active:!0,children:Object(w.jsx)(Ge,{title:Object(w.jsx)(Ye,{level:2,children:"\u603b\u8ba1"}),description:Object(w.jsx)(Ce.a,{columns:Qe,dataSource:i,showHeader:!1,size:"small",bordered:!1,pagination:!1})})})})},$e=n(221),et=(n(356),n(222)),tt=n.n(et),nt=function(e){Object(f.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={cvc:"",expiry:"",focus:"",name:"",number:""},e.handleInputFocus=function(t){e.setState({focus:t.target.name})},e.handleInputChange=function(t){var n=t.target,r=n.name,a=n.value;e.setState(Object(U.a)({},r,a))},e}return Object(x.a)(n,[{key:"render",value:function(){return Object(w.jsxs)("div",{id:"PaymentForm",style:{marginTop:50},children:[Object(w.jsx)($e.a,{cvc:this.state.cvc,expiry:this.state.expiry,focused:this.state.focus,name:this.state.name,number:this.state.number}),Object(w.jsx)("form",{className:tt.a["payment-form"],children:Object(w.jsx)(L.a,{type:"tel",name:"number",placeholder:"Card Number",onChange:this.handleInputChange,onFocus:this.handleInputFocus})})]})}}]),n}(l.a.Component),rt=n(385),at=Be.a.Meta,ct=_.a.Title,it=_.a.Text,st=[{title:"\u4ea7\u54c1",dataIndex:"item",key:"item"},{title:"\u4ef7\u683c",dataIndex:"amount",key:"amount"}],ot=function(e){var t=e.loading,n=e.order,r=e.onCheckout,a=Object(O.g)(),c=n?n.orderItems.map((function(e,t){return{key:t,item:e.touristRoute.title,amount:Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(it,{delete:!0,children:["\xa5 ",e.originalPrice," "]})," ",Object(w.jsxs)(it,{type:"danger",strong:!0,children:["\xa5 ",e.originalPrice*e.discountPresent]})]})}})):[];return Object(w.jsx)(Be.a,{style:{width:600,marginTop:50},actions:[n&&"Completed"===n.state?Object(w.jsxs)(z.a,{type:"primary",onClick:function(){a.push("/")},loading:t,children:[Object(w.jsx)(rt.a,{}),"\u56de\u5230\u9996\u9875"]}):Object(w.jsxs)(z.a,{type:"primary",danger:!0,onClick:r,loading:t,children:[Object(w.jsx)(Xe.a,{}),"\u652f\u4ed8"]})],children:Object(w.jsx)(We.a,{loading:t,active:!0,children:Object(w.jsx)(at,{title:Object(w.jsx)(ct,{level:2,children:n&&"Completed"===n.state?"\u652f\u4ed8\u6210\u529f":"\u603b\u8ba1"}),description:Object(w.jsx)(Ce.a,{columns:st,dataSource:c,showHeader:!1,size:"small",bordered:!1,pagination:!1})})})})},lt=n(155),dt=n.p+"static/media/sider_2019_12-09.d016ce66.png",ut=n.p+"static/media/sider_2019_02-04.600e70c8.png",jt=n.p+"static/media/sider_2019_02-04-2.e8593237.png",pt=n(366),bt="FETCH_RECOMMEND_PRODUCTS_START",ht="FETCH_RECOMMEND_PRODUCTS_SUCCESS",Ot="FETCH_RECOMMEND_PRODUCTS_FAIL",gt=function(e){return{type:ht,payload:e}},mt=n(223),xt=n.n(mt),ft=function(e){var t=e.children;return Object(w.jsxs)("div",{children:[Object(w.jsx)(K,{}),Object(w.jsx)("div",{className:xt.a["page-content"],children:t}),Object(w.jsx)(k,{})]})},yt=function(e){Object(f.a)(n,e);var t=Object(y.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(x.a)(n,[{key:"componentDidMount",value:function(){this.props.giveMeData()}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.productList,r=e.loading,a=e.error;return r?Object(w.jsx)(lt.a,{size:"large",style:{marginTop:200,marginBottom:200,marginLeft:"auto",marginRight:"auto",width:"100%"}}):a?Object(w.jsxs)("div",{children:["\u7f51\u7ad9\u51fa\u9519\uff1a",a]}):Object(w.jsxs)(ft,{children:[Object(w.jsxs)(pe.a,{style:{marginTop:20},children:[Object(w.jsx)(be.a,{span:6,children:Object(w.jsx)(le,{})}),Object(w.jsx)(be.a,{span:18,children:Object(w.jsx)(ae,{})})]}),Object(w.jsx)(Oe,{title:Object(w.jsx)(_.a.Title,{level:3,type:"warning",children:t("home_page.hot_recommended")}),sideImage:dt,products:n[0].touristRoutes}),Object(w.jsx)(Oe,{title:Object(w.jsx)(_.a.Title,{level:3,type:"danger",children:t("home_page.new_arrival")}),sideImage:ut,products:n[1].touristRoutes}),Object(w.jsx)(Oe,{title:Object(w.jsx)(_.a.Title,{level:3,type:"success",children:t("home_page.domestic_travel")}),sideImage:jt,products:n[2].touristRoutes}),Object(w.jsx)(fe,{})]})}}]),n}(l.a.Component),vt=Object(D.b)((function(e){return{loading:e.recommendProducts.loading,error:e.recommendProducts.error,productList:e.recommendProducts.productList}}),(function(e){return{giveMeData:function(){e(function(){var e=Object(B.a)(q.a.mark((function e(t,n){var r,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:bt}),e.prev=1,e.next=4,J.a.get("http://123.56.149.216:8080/api/productCollections");case 4:r=e.sent,a=r.data,t(gt(a)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t((n=e.t0.message,{type:Ot,payload:n}));case 12:case"end":return e.stop()}var n}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}())}}}))(Object(pt.a)()(yt)),_t=n(73),Ct=n.n(_t),wt=n(240),kt=v.a.Header,St=v.a.Footer,It=v.a.Content,Pt=function(e){var t=Object(w.jsxs)(R.a,{children:[Object(w.jsx)(R.a.Item,{children:"\u4e2d\u6587"}),Object(w.jsx)(R.a.Item,{children:"English"})]});return Object(w.jsxs)(v.a,{className:Ct.a["user-layout-container"],children:[Object(w.jsx)(kt,{className:Ct.a.header,children:Object(w.jsx)("div",{className:Ct.a.lang,children:Object(w.jsx)(N.a,{overlay:t,children:Object(w.jsxs)(z.a,{children:[" ","\u9009\u62e9\u8bed\u8a00 ",Object(w.jsx)(wt.a,{})]})})})}),Object(w.jsx)(It,{className:Ct.a.content,children:Object(w.jsxs)("div",{className:Ct.a.top,children:[Object(w.jsx)("div",{className:Ct.a["content-header"],children:Object(w.jsxs)(g.b,{to:"/",children:[Object(w.jsx)("img",{alt:"logo",className:Ct.a.logo,src:T}),Object(w.jsx)("span",{className:Ct.a.title,children:"React \u65c5\u6e38\u7f51"})]})}),Object(w.jsx)("div",{className:Ct.a.desc,children:"\u6155\u8bfe\u7f51 \u662f\u6211\u671d\u6700\u5177\u5f71\u54cd\u529b\u7684 \u7ebf\u4e0a\u8bfe\u7a0b\u5b66\u4e60\u7f51\u7ad9"}),e.children]})}),Object(w.jsx)(St,{style:{textAlign:"center"},children:"Footer\u5c31\u4e0d\u5199\u4e86\uff0c\u592a\u7d2f\u4e86"})]})},Tt=n(225),Nt=n.n(Tt),Rt=n(371),zt=n(124),Lt=function(){var e=Object(O.g)(),t=function(){var t=Object(B.a)(q.a.mark((function t(n){return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Success:",n),t.prev=1,t.next=4,J.a.post("http://123.56.149.216:8080/auth/register",{email:n.username,password:n.password,confirmPassword:n.confirm});case 4:e.push("/signIn"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),alert("\u6ce8\u518c\u5931\u8d25\uff01");case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}();return Object(w.jsxs)(Rt.a,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:t,onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",className:Nt.a["register-form"],children:[Object(w.jsx)(Rt.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(w.jsx)(L.a,{})}),Object(w.jsx)(Rt.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(w.jsx)(L.a.Password,{})}),Object(w.jsx)(Rt.a.Item,{label:"Confirm Password",name:"confirm",hasFeedback:!0,rules:[{required:!0,message:"Please input your confirm password!"},function(e){var t=e.getFieldValue;return{validator:function(e,n){return n&&t("password")!==n?Promise.reject("\u5bc6\u7801\u786e\u8ba4\u4e0d\u4e00\u81f4\uff01"):Promise.resolve()}}}],children:Object(w.jsx)(L.a.Password,{})}),Object(w.jsx)(Rt.a.Item,{name:"remember",valuePropName:"checked",wrapperCol:{offset:8,span:16},children:Object(w.jsx)(zt.a,{children:"Remember me"})}),Object(w.jsx)(Rt.a.Item,{wrapperCol:{offset:8,span:16},children:Object(w.jsx)(z.a,{type:"primary",htmlType:"submit",children:"Submit"})})]})},Mt=function(){return Object(w.jsx)(Pt,{children:Object(w.jsx)(Lt,{})})},Dt=n(226),Ft=n.n(Dt),Ht=function(){var e=F((function(e){return e.user.loading})),t=F((function(e){return e.user.token})),n=(F((function(e){return e.user.error})),Object(D.c)()),r=Object(O.g)();Object(o.useEffect)((function(){null!==t&&r.push("/")}),[t]);return Object(w.jsxs)(Rt.a,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:function(e){console.log("Success:",e),n(G({email:e.username,password:e.password}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",className:Ft.a["signIn-form"],children:[Object(w.jsx)(Rt.a.Item,{label:"\u8d26\u6237",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(w.jsx)(L.a,{})}),Object(w.jsx)(Rt.a.Item,{label:"\u5bc6\u7801",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(w.jsx)(L.a.Password,{})}),Object(w.jsx)(Rt.a.Item,{name:"remember",valuePropName:"checked",wrapperCol:{offset:8,span:16},children:Object(w.jsx)(zt.a,{children:"Remember me"})}),Object(w.jsx)(Rt.a.Item,{wrapperCol:{offset:8,span:16},children:Object(w.jsx)(z.a,{type:"primary",htmlType:"submit",loading:e,children:"Submit"})})]})},At=function(){return Object(w.jsx)(Pt,{children:Object(w.jsx)(Ht,{})})},Et=n(367),Ut=n(377),Vt=n(97),qt=n.n(Vt),Bt=[{author:"Han Solo",avatar:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",content:"\u524d\u5f80\u7801\u5934\u642d\u4e58\u5feb\u8247\u524d\u5f80\u6f5c\u6c34\u8247\u5e73\u53f0\uff0c\u642d\u4e58\u6f5c\u6c34\u8247\u6f5c\u51657\u7c73\u6df1\u7ea2\u6d77\uff0c\u6b23\u8d4f\u795e\u79d8\u7f8e\u4e3d\u7684\u7ea2\u6d77\u6d77\u5e95\u4e16\u754c\u3002\u5e76\u6709\u6f5c\u6c34\u5458\u4e3a\u60a8\u732e\u4e0a\u6d77\u5e95\u5582\u9c7c\u7684\u8868\u6f14\u3002\u542b\u63a5\u9001\uff0c\u4e2d\u6587\u5bfc\u6e38\u966a\u540c",createDate:"2020-01-05"},{author:"Han Solo",avatar:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",content:"\u65e9\u4e0a5\u70b9\u5de6\u53f3\u4ece\u9152\u5e97\u51fa\u53d1\u524d\u5f80\u7801\u5934\uff0c\u642d\u4e58\u5c0f\u8239\u524d\u5f80\u5c3c\u7f57\u6cb3\u897f\u5cb8\u3002\u5c0f\u8239\u4e0a\u51c6\u5907\u6709\u70ed\u5496\u5561\uff0c\u8336\uff0c\u4ee5\u53ca\u5c0f\u70b9\u5fc3\u3002\u642d\u4e58\u70ed\u6c14\u7403\u8fce\u63a5\u65e5\u51fa\uff0c\u5e76\u4fef\u77b0\u5362\u514b\u7d22\u3002\u9014\u5f84\u54c8\u5e03\u57ce\uff0c\u5973\u738b\u795e\u5e99\uff0c\u5e1d\u738b\u8c37\u7b49\u666f\u70b9\uff0c\u4ece\u9ad8\u7a7a\u4f53\u9a8c\u4e0d\u4e00\u6837\u7684\u5362\u514b\u7d22\u3002\u843d\u5730\u540e\u4f1a\u4e3e\u529e\u4e00\u4e2a\u5c0f\u7684\u5e86\u795d\u4eea\u5f0f\uff0c\u5e76\u4e3a\u5ba2\u4eba\u9881\u53d1\u8bc1\u4e66\u3002\u4e4b\u540e\u4e13\u8f66\u9001\u8fd4\u9152\u5e97\u3002",createDate:"2020-02-06"},{author:"Han Solo",avatar:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",content:"\u884c\u7a0b\u5b89\u6392\u4ec5\u4f9b\u53c2\u8003\uff0c\u89c6\u5f53\u5929\u5177\u4f53\u5929\u6c14\u60c5\u51b5\u800c\u5b9a\u3002\u82e5\u56e0\u5929\u6c14\u72b6\u51b5\u800c\u65e0\u6cd5\u4e58\u5750\u70ed\u6c14\u7403\uff0c\u5219\u539f\u4ef7\u9000\u8fd8\uff01",createDate:"2020-01-04"},{author:"Han Solo",avatar:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",content:"\u642d\u4e58\u7279\u6b8a\u5b9a\u5236\u7684\u6e38\u8239\uff0c\u5728\u6e38\u8239\u5e95\u90e8\u8bbe\u6709\u5927\u578b\u89c2\u5149\u7a97\uff0c\u4fbf\u4e8e\u6b23\u8d4f\u5947\u5999\u7684\u6d77\u5e95\u4e16\u754c\u3002\u5305\u542b\u63a5\u9001\uff0c\u4e2d\u6587\u5bfc\u6e38\u966a\u540c\u6ce8\u610f\uff1a\u4e0a\u4e0b\u8239\u65f6\u8bf7\u6ce8\u610f\u5b89\u5168\uff0c\u4f9d\u6b21\u6392\u961f\u5207\u52ff\u62e5\u6324\u3001\u5c0f\u5fc3\u5730\u6ed1\u300270\u7f8e\u91d1/\u4eba\uff084\u4eba\u8d77\uff09",createDate:"2020-02-05"}],Wt=Object(W.b)("productDetail/getProductDetail",function(){var e=Object(B.a)(q.a.mark((function e(t,n){var r,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.a.get("http://123.56.149.216:8080/api/touristRoutes/".concat(t));case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Xt=Object(W.c)({name:"productDetail",initialState:{loading:!0,error:null,data:null},reducers:{},extraReducers:(a={},Object(U.a)(a,Wt.pending.type,(function(e){e.loading=!0})),Object(U.a)(a,Wt.fulfilled.type,(function(e,t){e.data=t.payload,e.loading=!1,e.error=null})),Object(U.a)(a,Wt.rejected.type,(function(e,t){e.loading=!1,e.error=t.payload})),a)}),Jt=n(386),Gt=Object(W.b)("shoppingCart/getShoppingCart",function(){var e=Object(B.a)(q.a.mark((function e(t,n){var r,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.a.get("http://123.56.149.216:8080/api/shoppingCart",{headers:{Authorization:"bearer ".concat(t)}});case 2:return r=e.sent,a=r.data,e.abrupt("return",a.shoppingCartItems);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Yt=Object(W.b)("shoppingCart/addShoppingCartItem",function(){var e=Object(B.a)(q.a.mark((function e(t,n){var r,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.a.post("http://123.56.149.216:8080/api/shoppingCart/items",{touristRouteId:t.touristRouteId},{headers:{Authorization:"bearer ".concat(t.jwt)}});case 2:return r=e.sent,a=r.data,e.abrupt("return",a.shoppingCartItems);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Kt=Object(W.b)("shoppingCart/checkout",function(){var e=Object(B.a)(q.a.mark((function e(t,n){var r,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.a.post("http://123.56.149.216:8080/api/shoppingCart/checkout",null,{headers:{Authorization:"bearer ".concat(t)}});case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Qt=Object(W.b)("shoppingCart/clearShoppingCartItem",function(){var e=Object(B.a)(q.a.mark((function e(t,n){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.a.delete("http://123.56.149.216:8080/api/shoppingCart/items/(".concat(t.itemIds.join(","),")"),{headers:{Authorization:"bearer ".concat(t.jwt)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Zt=Object(W.c)({name:"shoppingCart",initialState:{loading:!0,error:null,items:[]},reducers:{},extraReducers:(c={},Object(U.a)(c,Gt.pending.type,(function(e){e.loading=!0})),Object(U.a)(c,Gt.fulfilled.type,(function(e,t){e.items=t.payload,e.loading=!1,e.error=null})),Object(U.a)(c,Gt.rejected.type,(function(e,t){e.loading=!1,e.error=t.payload})),Object(U.a)(c,Yt.pending.type,(function(e){e.loading=!0})),Object(U.a)(c,Yt.fulfilled.type,(function(e,t){e.items=t.payload,e.loading=!1,e.error=null})),Object(U.a)(c,Yt.rejected.type,(function(e,t){e.loading=!1,e.error=t.payload})),Object(U.a)(c,Qt.pending.type,(function(e){e.loading=!0})),Object(U.a)(c,Qt.fulfilled.type,(function(e){e.items=[],e.loading=!1,e.error=null})),Object(U.a)(c,Qt.rejected.type,(function(e,t){e.loading=!1,e.error=t.payload})),Object(U.a)(c,Kt.pending.type,(function(e){e.loading=!0})),Object(U.a)(c,Kt.fulfilled.type,(function(e,t){e.items=[],e.loading=!1,e.error=null})),Object(U.a)(c,Kt.rejected.type,(function(e,t){e.loading=!1,e.error=t.payload})),c)}),$t=Et.a.RangePicker,en=function(){var e=Object(O.i)().touristRouteId,t=F((function(e){return e.productDetail.loading})),n=F((function(e){return e.productDetail.data})),r=F((function(e){return e.productDetail.error})),a=Object(D.c)(),c=F((function(e){return e.user.token})),i=F((function(e){return e.shoppingCart.loading}));return Object(o.useEffect)((function(){a(Wt(e))}),[]),t?Object(w.jsx)(lt.a,{size:"large",style:{marginTop:200,marginBottom:200,marginLeft:"auto",marginRight:"auto",width:"100%"}}):r?Object(w.jsxs)("div",{children:["\u7f51\u7ad9\u51fa\u9519\uff1a",r]}):Object(w.jsxs)(ft,{children:[Object(w.jsx)("div",{className:qt.a["product-intro-container"],children:Object(w.jsxs)(pe.a,{children:[Object(w.jsx)(be.a,{span:13,children:Object(w.jsx)(ke,{title:n.title,shortDescription:n.description,price:n.originalPrice,coupons:n.coupons,points:n.points,discount:n.price,rating:n.rating,pictures:n.touristRoutePictures.map((function(e){return e.url}))})}),Object(w.jsxs)(be.a,{span:11,children:[Object(w.jsxs)(z.a,{style:{marginTop:50,marginBottom:30,display:"block"},type:"primary",danger:!0,loading:i,onClick:function(){a(Yt({jwt:c,touristRouteId:n.id}))},children:[Object(w.jsx)(Jt.a,{}),"\u653e\u5165\u8d2d\u7269\u8f66"]}),Object(w.jsx)($t,{open:!0,style:{marginTop:20}})]})]})}),Object(w.jsx)(Ut.a,{className:qt.a["product-detail-anchor"],children:Object(w.jsxs)(R.a,{mode:"horizontal",children:[Object(w.jsx)(R.a.Item,{children:Object(w.jsx)(Ut.a.Link,{href:"#feature",title:"\u4ea7\u54c1\u7279\u8272"})},"1"),Object(w.jsx)(R.a.Item,{children:Object(w.jsx)(Ut.a.Link,{href:"#fees",title:"\u8d39\u7528"})},"3"),Object(w.jsx)(R.a.Item,{children:Object(w.jsx)(Ut.a.Link,{href:"#notes",title:"\u9884\u8ba2\u987b\u77e5"})},"4"),Object(w.jsx)(R.a.Item,{children:Object(w.jsx)(Ut.a.Link,{href:"#comments",title:"\u7528\u6237\u8bc4\u4ef7"})},"5")]})}),Object(w.jsxs)("div",{id:"feature",className:qt.a["product-detail-container"],children:[Object(w.jsx)(je.a,{orientation:"center",children:Object(w.jsx)(_.a.Title,{level:3,children:"\u4ea7\u54c1\u7279\u8272"})}),Object(w.jsx)("div",{dangerouslySetInnerHTML:{__html:n.features},style:{margin:50}})]}),Object(w.jsxs)("div",{id:"fees",className:qt.a["product-detail-container"],children:[Object(w.jsx)(je.a,{orientation:"center",children:Object(w.jsx)(_.a.Title,{level:3,children:"\u8d39\u7528"})}),Object(w.jsx)("div",{dangerouslySetInnerHTML:{__html:n.fees},style:{margin:50}})]}),Object(w.jsxs)("div",{id:"notes",className:qt.a["product-detail-container"],children:[Object(w.jsx)(je.a,{orientation:"center",children:Object(w.jsx)(_.a.Title,{level:3,children:"\u9884\u5b9a\u987b\u77e5"})}),Object(w.jsx)("div",{dangerouslySetInnerHTML:{__html:n.notes},style:{margin:50}})]}),Object(w.jsxs)("div",{id:"comments",className:qt.a["product-detail-container"],children:[Object(w.jsx)(je.a,{orientation:"center",children:Object(w.jsx)(_.a.Title,{level:3,children:"\u7528\u6237\u8bc4\u4ef7"})}),Object(w.jsx)("div",{style:{margin:40},children:Object(w.jsx)(Pe,{data:Bt})})]})]})},tn=n(185),nn=n.n(tn),rn=Object(W.b)("productSearch/searchProduct",function(){var e=Object(B.a)(q.a.mark((function e(t,n){var r,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="http://123.56.149.216:8080/api/touristRoutes?pageNumber=".concat(t.nextPage,"&pageSize=").concat(t.pageSize),t.keywords&&(r+="&keyword=".concat(t.keywords)),e.next=4,J.a.get(r);case 4:return a=e.sent,e.abrupt("return",{data:a.data,pagination:JSON.parse(a.headers["x-pagination"])});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),an=Object(W.c)({name:"productSearch",initialState:{loading:!0,error:null,data:null,pagination:null},reducers:{},extraReducers:(i={},Object(U.a)(i,rn.pending.type,(function(e){e.loading=!0})),Object(U.a)(i,rn.fulfilled.type,(function(e,t){e.data=t.payload.data,e.pagination=t.payload.pagination,e.loading=!1,e.error=null})),Object(U.a)(i,rn.rejected.type,(function(e,t){e.loading=!1,e.error=t.payload})),i)}),cn=function(){var e=Object(O.i)().keywords,t=F((function(e){return e.productSearch.loading})),n=F((function(e){return e.productSearch.error})),r=F((function(e){return e.productSearch.pagination})),a=F((function(e){return e.productSearch.data})),c=Object(D.c)(),i=Object(O.h)();Object(o.useEffect)((function(){c(rn({nextPage:1,pageSize:10,keywords:e}))}),[i]);return t?Object(w.jsx)(lt.a,{size:"large",style:{marginTop:200,marginBottom:200,marginLeft:"auto",marginRight:"auto",width:"100%"}}):n?Object(w.jsxs)("div",{children:["\u7f51\u7ad9\u51fa\u9519\uff1a",n]}):Object(w.jsxs)(ft,{children:[Object(w.jsx)("div",{className:nn.a["product-list-container"],children:Object(w.jsx)(Fe,{})}),Object(w.jsx)("div",{className:nn.a["product-list-container"],children:Object(w.jsx)(qe,{data:a,paging:r,onPageChange:function(t,n){c(rn({nextPage:t,pageSize:n,keywords:e}))}})})]})},sn=n(186),on=n.n(sn),ln=n(234),dn=function(e){var t=F((function(e){return e.shoppingCart.loading})),n=F((function(e){return e.shoppingCart.items})),r=F((function(e){return e.user.token})),a=Object(D.c)(),c=Object(O.g)();return Object(w.jsx)("div",{children:Object(w.jsx)(ft,{children:Object(w.jsxs)(pe.a,{children:[Object(w.jsx)(be.a,{span:16,children:Object(w.jsx)("div",{className:on.a["product-list-container"],children:Object(w.jsx)(qe,{data:n.map((function(e){return e.touristRoute}))})})}),Object(w.jsx)(be.a,{span:8,children:Object(w.jsx)(ln.a,{children:Object(w.jsx)("div",{className:on.a["payment-card-container"],children:Object(w.jsx)(Ze,{loading:t,originalPrice:n.map((function(e){return e.originalPrice})).reduce((function(e,t){return e+t}),0),price:n.map((function(e){return e.originalPrice*(e.discountPresent?e.discountPresent:1)})).reduce((function(e,t){return e+t}),0),onCheckout:function(){n.length<=0||(a(Kt(r)),c.push("/placeOrder"))},onShoppingCartClear:function(){a(Qt({jwt:r,itemIds:n.map((function(e){return e.id}))}))}})})})})]})})})},un=Object(W.b)("order/placeOrder",function(){var e=Object(B.a)(q.a.mark((function e(t,n){var r,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.a.post("http://123.56.149.216:8080/api/orders/".concat(t.orderId,"/placeOrder"),null,{headers:{Authorization:"bearer ".concat(t.jwt)}});case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),jn=Object(W.c)({name:"order",initialState:{loading:!1,error:null,currentOrder:null},reducers:{},extraReducers:(s={},Object(U.a)(s,un.pending.type,(function(e){e.loading=!0})),Object(U.a)(s,un.fulfilled.type,(function(e,t){e.currentOrder=t.payload,e.loading=!1,e.error=null})),Object(U.a)(s,un.rejected.type,(function(e,t){e.loading=!1,e.error=t.payload})),Object(U.a)(s,Kt.pending.type,(function(e){e.loading=!0})),Object(U.a)(s,Kt.fulfilled.type,(function(e,t){e.currentOrder=t.payload,e.loading=!1,e.error=null})),Object(U.a)(s,Kt.rejected.type,(function(e,t){e.loading=!1,e.error=t.payload})),s)}),pn=function(e){var t=F((function(e){return e.user.token})),n=F((function(e){return e.order.loading})),r=F((function(e){return e.order.currentOrder})),a=Object(D.c)();return Object(w.jsx)(ft,{children:Object(w.jsxs)(pe.a,{children:[Object(w.jsx)(be.a,{span:12,children:Object(w.jsx)(nt,{})}),Object(w.jsx)(be.a,{span:12,children:Object(w.jsx)(ot,{loading:n,order:r,onCheckout:function(){a(un({jwt:t,orderId:r.id}))}})})]})})},bn=["component","isAuthenticated"],hn=function(e){var t=e.component,n=e.isAuthenticated,r=Object(p.a)(e,bn);return Object(w.jsx)(O.b,Object(j.a)({render:function(e){return n?l.a.createElement(t,e):Object(w.jsx)(O.a,{to:{pathname:"/signIn"}})}},r))};var On=function(){var e=F((function(e){return e.user.token})),t=Object(D.c)();return Object(o.useEffect)((function(){e&&t(Gt(e))}),[e]),Object(w.jsx)("div",{className:h.a.App,children:Object(w.jsx)(g.a,{children:Object(w.jsxs)(O.d,{children:[Object(w.jsx)(O.b,{exact:!0,path:"/",component:vt}),Object(w.jsx)(O.b,{path:"/signIn",component:At}),Object(w.jsx)(O.b,{path:"/register",component:Mt}),Object(w.jsx)(O.b,{path:"/detail/:touristRouteId",component:en}),Object(w.jsx)(O.b,{path:"/search/:keywords?",component:cn}),Object(w.jsx)(hn,{isAuthenticated:null!==e,path:"/shoppingCart",component:dn}),Object(w.jsx)(hn,{isAuthenticated:null!==e,path:"/placeOrder",component:pn}),Object(w.jsx)(O.b,{render:function(){return Object(w.jsx)("h1",{children:"404 not found"})}})]})})})},gn=(n(358),n(125)),mn=n(126),xn={en:{translation:n(227)},zh:{translation:n(228)}};gn.a.use(mn.e).init({resources:xn,lng:"zh",interpolation:{escapeValue:!1}});gn.a;var fn=n(158),yn={language:"zh",languageList:[{name:"\u4e2d\u6587",code:"zh"},{name:"English",code:"eh"}]},vn={loading:!0,error:null,productList:[]},_n=function(e){return function(t){return function(n){console.log("state \u5f53\u524d",e.getState()),console.log("fire action",n),t(n),console.log("state \u66f4\u65b0",e.getState())}}},Cn=n(50),wn=n(187),kn=n(229),Sn={key:"root",storage:n.n(kn).a,whitelist:["user"]},In=Object(Cn.b)({language:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return gn.a.changeLanguage(t.payload),Object(j.a)(Object(j.a)({},e),{},{language:t.payload});case A:return Object(j.a)(Object(j.a)({},e),{},{languageList:[].concat(Object(fn.a)(e.languageList),[t.payload])});default:return e}},recommendProducts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bt:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case ht:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,productList:t.payload});case Ot:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,error:t.payload});default:return e}},productDetail:Xt.reducer,productSearch:an.reducer,user:Y.reducer,shoppingCart:Zt.reducer,order:jn.reducer}),Pn=Object(wn.a)(Sn,In),Tn=Object(W.a)({reducer:Pn,middleware:function(e){return[].concat(Object(fn.a)(e()),[_n])},devTools:!0}),Nn={store:Tn,persistor:Object(wn.b)(Tn)},Rn=n(230);J.a.defaults.headers["x-icode"]="052A35F21EA88072",u.a.render(Object(w.jsx)(l.a.StrictMode,{children:Object(w.jsx)(D.a,{store:Nn.store,children:Object(w.jsx)(Rn.a,{persistor:Nn.persistor,children:Object(w.jsx)(On,{})})})}),document.getElementById("root"))},66:function(e,t,n){e.exports={"app-header":"Header_app-header__36ZaE","top-header":"Header_top-header__2T7il",inner:"Header_inner__3bCvM","button-group":"Header_button-group__13qsF","main-header":"Header_main-header__1RAs3","App-logo":"Header_App-logo__3lJ0q","App-logo-spin":"Header_App-logo-spin__DVBDa",title:"Header_title__1mZdG","search-input":"Header_search-input__3KHqN","main-menu":"Header_main-menu__2Xwq_"}},73:function(e,t,n){e.exports={"user-layout-container":"UserLayout_user-layout-container__3nhHr",header:"UserLayout_header__RIya2",lang:"UserLayout_lang__3l4C6",content:"UserLayout_content__2twjC",top:"UserLayout_top__jW0LW","content-header":"UserLayout_content-header__BIWte",logo:"UserLayout_logo__1Vs3D",title:"UserLayout_title__6gH1f",desc:"UserLayout_desc__dG0Ce"}},97:function(e,t,n){e.exports={"page-content":"DetailPage_page-content__1zT9t","product-intro-container":"DetailPage_product-intro-container__2FRVi","product-detail-anchor":"DetailPage_product-detail-anchor__C4AAJ","product-detail-container":"DetailPage_product-detail-container__13-Ei"}}},[[361,1,2]]]);
//# sourceMappingURL=main.bb4640eb.chunk.js.map